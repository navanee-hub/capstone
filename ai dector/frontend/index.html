<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Content Detector - College Project</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); min-height:100vh; padding:20px; }
        .container { max-width:1200px; margin:0 auto; background:white; border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,0.1); overflow:hidden; }
        .header { background:linear-gradient(135deg,#2c3e50,#3498db); color:white; padding:30px; text-align:center; }
        .header h1 { font-size:2.5rem; margin-bottom:10px; font-weight:700; }
        .header p { font-size:1.1rem; opacity:0.9; }
        .main-content { padding:40px; }
        .tabs { display:flex; background:#f8f9fa; border-radius:15px; padding:5px; margin-bottom:30px; gap:5px; }
        .tab { flex:1; padding:15px 20px; background:transparent; border:none; border-radius:10px; cursor:pointer; font-size:1rem; font-weight:600; display:flex; align-items:center; justify-content:center; gap:10px; transition:all 0.3s ease; }
        .tab.active { background:#3498db; color:white; box-shadow:0 5px 15px rgba(52,152,219,0.3); }
        .tab:hover:not(.active) { background:#e9ecef; }
        .tab-content { display:none; animation:fadeIn 0.3s ease; }
        .tab-content.active { display:block; }
        @keyframes fadeIn { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
        .upload-area { border:3px dashed #3498db; border-radius:15px; padding:40px; text-align:center; background:#f8f9fa; margin-bottom:20px; transition:all 0.3s ease; cursor:pointer; }
        .upload-area:hover { border-color:#2980b9; background:#e3f2fd; }
        .upload-area.dragover { border-color:#27ae60; background:#e8f5e8; }
        .upload-icon { font-size:3rem; color:#3498db; margin-bottom:15px; }
        textarea { width:100%; min-height:200px; padding:20px; border:2px solid #e0e0e0; border-radius:15px; font-size:1rem; font-family:inherit; resize:vertical; transition:border-color 0.3s ease; }
        textarea:focus { outline:none; border-color:#3498db; }
        .analyze-btn { background:linear-gradient(135deg,#27ae60,#2ecc71); color:white; border:none; padding:15px 40px; border-radius:50px; font-size:1.1rem; font-weight:600; cursor:pointer; transition:all 0.3s ease; margin-top:20px; width:100%; }
        .analyze-btn:hover { transform:translateY(-2px); box-shadow:0 10px 25px rgba(46,204,113,0.3); }
        .analyze-btn:disabled { background:#bdc3c7; cursor:not-allowed; transform:none; box-shadow:none; }
        .results { margin-top:30px; padding:25px; background:#f8f9fa; border-radius:15px; display:none; }
        .results.show { display:block; animation:slideUp 0.5s ease; }
        @keyframes slideUp { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
        .confidence-meter { background:#e0e0e0; height:20px; border-radius:10px; overflow:hidden; margin:15px 0; }
        .confidence-fill { height:100%; border-radius:10px; transition:width 1s ease, background-color 1s ease; }
        .ai-generated { background:linear-gradient(90deg,#e74c3c,#c0392b); }
        .human-created { background:linear-gradient(90deg,#27ae60,#2ecc71); }
        .result-label { font-size:1.3rem; font-weight:700; margin-bottom:10px; }
        .result-description { color:#555; line-height:1.6; margin-top:15px; }
        .loading { display:none; text-align:center; padding:20px; }
        .loading.show { display:block; }
        .spinner { border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:40px; height:40px; animation:spin 1s linear infinite; margin:0 auto 15px; }
        @keyframes spin { 0% { transform:rotate(0deg); } 100% { transform:rotate(360deg); } }
        .file-info { background:#e3f2fd; padding:15px; border-radius:10px; margin:15px 0; display:none; }
        .file-info.show { display:block; }
        .features { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; margin-top:30px; }
        .feature-card { background:white; padding:25px; border-radius:15px; box-shadow:0 5px 15px rgba(0,0,0,0.1); text-align:center; }
        .feature-icon { font-size:2.5rem; margin-bottom:15px; }
        @media (max-width:768px){ .header h1{ font-size:2rem; } .tabs{ flex-direction:column; } .main-content{ padding:20px; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ AI Content Detector</h1>
            <p>Advanced analysis tool to detect AI-generated content across text, images, and videos</p>
        </div>

        <div class="main-content">
            <div class="tabs">
                <button class="tab active" onclick="switchTab('text')">üìù Text Analysis</button>
                <button class="tab" onclick="switchTab('image')">üñºÔ∏è Image Analysis</button>
                <button class="tab" onclick="switchTab('video')">üé• Video Analysis</button>
            </div>

            <!-- Text Tab -->
            <div id="text-tab" class="tab-content active">
                <h3 style="margin-bottom:20px; color:#2c3e50;">Text Content Analysis</h3>
                <textarea id="text-input" placeholder="Paste your text here for AI detection analysis..."></textarea>
                <button class="analyze-btn" onclick="analyzeText()">üîç Analyze Text</button>
            </div>

            <!-- Image Tab -->
            <div id="image-tab" class="tab-content">
                <h3 style="margin-bottom:20px; color:#2c3e50;">Image Content Analysis</h3>
                <div class="upload-area" onclick="document.getElementById('image-input').click()" ondrop="handleDrop(event,'image')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                    <div class="upload-icon">üñºÔ∏è</div>
                    <h4>Drop an image here or click to upload</h4>
                    <p>Supports JPG, PNG, GIF formats</p>
                </div>
                <input type="file" id="image-input" accept="image/*" style="display:none;" onchange="handleFileSelect(event,'image')">
                <div id="image-info" class="file-info"></div>
                <button class="analyze-btn" onclick="analyzeImage()" disabled>üîç Analyze Image</button>
            </div>

            <!-- Video Tab -->
            <div id="video-tab" class="tab-content">
                <h3 style="margin-bottom:20px; color:#2c3e50;">Video Content Analysis</h3>
                <div class="upload-area" onclick="document.getElementById('video-input').click()" ondrop="handleDrop(event,'video')" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                    <div class="upload-icon">üé•</div>
                    <h4>Drop a video here or click to upload</h4>
                    <p>Supports MP4, AVI, MOV formats</p>
                </div>
                <input type="file" id="video-input" accept="video/*" style="display:none;" onchange="handleFileSelect(event,'video')">
                <div id="video-info" class="file-info"></div>
                <button class="analyze-btn" onclick="analyzeVideo()" disabled>üîç Analyze Video</button>
            </div>

            <!-- Loading -->
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <p>Analyzing content with advanced AI detection algorithms...</p>
            </div>

            <!-- Results -->
            <div id="results" class="results">
                <div class="result-label" id="result-label"></div>
                <div class="confidence-meter">
                    <div class="confidence-fill" id="confidence-fill"></div>
                </div>
                <p><strong>Confidence Level:</strong> <span id="confidence-text"></span></p>
                <div class="result-description" id="result-description"></div>
            </div>

            <!-- Features Section -->
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">üß†</div>
                    <h4>Advanced AI Detection</h4>
                    <p>Uses machine learning algorithms to identify AI-generated patterns in content</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h4>Real-time Analysis</h4>
                    <p>Get instant results with detailed confidence scores and explanations</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h4>Privacy Focused</h4>
                    <p>All analysis is performed locally - your content never leaves your device</p>
                </div>
            </div>
        </div>
    </div>

<script>
    let currentTab = 'text';
    let uploadedFiles = {};

    // -------------------
    // Tab Switching
    // -------------------
    function switchTab(tabName) {
        document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
        event.target.classList.add('active');
        document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
        document.getElementById(tabName+'-tab').classList.add('active');
        currentTab = tabName;
        hideResults();
    }

    // -------------------
    // Drag & Drop
    // -------------------
    function handleDragOver(e){ e.preventDefault(); e.currentTarget.classList.add('dragover'); }
    function handleDragLeave(e){ e.currentTarget.classList.remove('dragover'); }
    function handleDrop(e,type){ e.preventDefault(); e.currentTarget.classList.remove('dragover'); const files=e.dataTransfer.files;if(files.length>0) handleFile(files[0],type); }
    function handleFileSelect(e,type){ handleFile(e.target.files[0],type); }
    function handleFile(file,type){
        uploadedFiles[type]=file;
        const infoDiv=document.getElementById(type+'-info');
        infoDiv.innerHTML=`<strong>üìÅ File Selected:</strong> ${file.name}<br><strong>üìè Size:</strong> ${(file.size/1024/1024).toFixed(2)} MB<br><strong>üè∑Ô∏è Type:</strong> ${file.type}`;
        infoDiv.classList.add('show');
        document.querySelector(`#${type}-tab .analyze-btn`).disabled=false;
    }

    // -------------------
    // Loading & Results
    // -------------------
    function showLoading(){ hideResults(); document.getElementById('loading').classList.add('show'); }
    function hideResults(){ document.getElementById('results').classList.remove('show'); document.getElementById('loading').classList.remove('show'); }
    function showResults(analysis){
        document.getElementById('loading').classList.remove('show');
        const resultsDiv=document.getElementById('results');
        const labelDiv=document.getElementById('result-label');
        const fillDiv=document.getElementById('confidence-fill');
        const confidenceText=document.getElementById('confidence-text');
        const descriptionDiv=document.getElementById('result-description');

        if(analysis.isAI){
            labelDiv.textContent='ü§ñ AI-Generated Content Detected';
            labelDiv.style.color='#e74c3c';
            fillDiv.className='confidence-fill ai-generated';
            fillDiv.style.width=analysis.confidence+'%';
        }else{
            labelDiv.textContent='üë§ Human-Created Content Detected';
            labelDiv.style.color='#27ae60';
            fillDiv.className='confidence-fill human-created';
            fillDiv.style.width=analysis.confidence+'%';
        }
        confidenceText.textContent=analysis.confidence+'%';
        descriptionDiv.textContent=analysis.description;
        resultsDiv.classList.add('show');
    }

    // -------------------
    // Backend API Calls
    // -------------------
    async function analyzeText() {
        const text=document.getElementById("text-input").value.trim();
        if(!text){ alert("Please enter some text to analyze!"); return; }
        showLoading();
        try {
            const res=await fetch("http://127.0.0.1:5000/api/analyze/text",{
                method:"POST",
                headers:{"Content-Type":"application/json"},
                body:JSON.stringify({text})
            });
            const data=await res.json();
            showResults(data);
        } catch(err){ hideResults(); alert("‚ùå Error: "+err.message); }
    }

    async function analyzeImage() {
        if(!uploadedFiles.image){ alert("Please upload an image first!"); return; }
        showLoading();
        try {
            const formData=new FormData();
            formData.append("file",uploadedFiles.image);
            const res=await fetch("http://127.0.0.1:5000/api/analyze/image",{ method:"POST", body:formData });
            const data=await res.json();
            showResults(data);
        } catch(err){ hideResults(); alert("‚ùå Error: "+err.message); }
    }

    async function analyzeVideo() {
        if(!uploadedFiles.video){ alert("Please upload a video first!"); return; }
        showLoading();
        try {
            const formData=new FormData();
            formData.append("file",uploadedFiles.video);
            const res=await fetch("http://127.0.0.1:5000/api/analyze/video",{ method:"POST", body:formData });
            const data=await res.json();
            showResults(data);
        } catch(err){ hideResults(); alert("‚ùå Error: "+err.message); }
    }
</script>
</body>
</html>
